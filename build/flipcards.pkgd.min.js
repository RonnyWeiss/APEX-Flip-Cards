var apexFlipCards=function(){"use strict";function a(a){var e=$("<div></div>");return e.addClass("flip-c-row"),a.append(e),e}function e(e,s,r,n){var t=$(e);t.parent().css("overflow","inherit");var i=function(a){var e=$("<div></div>");return e.addClass("flip-c-container"),a.append(e),e}(t),o=a(i),d=0;$.each(s,function(e,s){d+=n.cardWidth;var c=$("<div></div>");c.addClass("flip-c-col-"+n.cardWidth);var l=$("<div></div>");l.addClass("mat-flip-card");var p=$("<img>");p.addClass("mat-flip-card__image"),p.attr("src",s.IMG_SRC),l.append(p);var h=$("<div></div>");h.addClass("mat-flip-card-title");var f=$("<a></a>");f.addClass("toggle-info"),f.addClass("btn");var v=$("<span></span>");v.addClass("left"),f.append(v);var g=$("<span></span>");g.addClass("right"),f.append(g),h.append(f);var C=$("<h2></h2>");!1!==r?C.text(s.TITLE):C.html(s.TITLE),h.append(C),l.append(h);var u=$("<div></div>");u.addClass("mat-flip-card-flap"),u.addClass("flap1"),s.DESC_BACK_COLOR&&s.DESC_BACK_COLOR.length>0&&u.css("background",s.DESC_BACK_COLOR),s.DESC_FONT_COLOR&&s.DESC_FONT_COLOR.length>0&&u.css("color",s.DESC_FONT_COLOR);var m=$("<div></div>");m.addClass("mat-flip-card-description"),!1!==r?m.text(s.DESCRIPTION):m.html(s.DESCRIPTION),u.append(m),l.append(u),c.append(l),o.append(c),d>=12&&(o=a(i),d=0);var x=10;l.click(function(a){a.preventDefault();var e=!1;if($(this).hasClass("show")&&(e=!0),t.hasClass("showing")){var s=t.find(".show");s.removeClass("show"),$.each(s,function(a,e){var s=$(e).find(".mat-flip-card-title"),r=$(e).find(".mat-flip-card__image");$(this).height(Math.floor(s.height()+r.height()))}),e?t.removeClass("showing"):($(this).css({zIndex:x}),$(this).addClass("show"),$(this).height(Math.floor(h.height()+p.height()+u.height()))),x++}else t.addClass("showing"),$(this).css({zIndex:x}),$(this).addClass("show"),$(this).height(Math.floor(h.height()+p.height()+u.height())),x++})})}var s={version:"1.0.5",isAPEX:function(){return"undefined"!=typeof apex},debug:{info:function(a){s.isAPEX()&&apex.debug.info(a)},error:function(a){s.isAPEX()?apex.debug.error(a):console.error(a)}},loader:{start:function(a){if(s.isAPEX())apex.util.showSpinner($(a));else{var e=$("<span></span>");e.attr("id","loader"+a),e.addClass("ct-loader");var r=$("<i></i>");r.addClass("fa fa-refresh fa-2x fa-anim-spin"),r.css("background","rgba(121,121,121,0.6)"),r.css("border-radius","100%"),r.css("padding","15px"),r.css("color","white"),e.append(r),$(a).append(e)}},stop:function(a){$(a+" > .u-Processing").remove(),$(a+" > .ct-loader").remove()}},jsonSaveExtend:function(a,e){var s={};if("string"==typeof e)try{e=JSON.parse(e)}catch(a){console.error("Error while try to parse targetConfig. Please check your Config JSON. Standard Config will be used."),console.error(a),console.error(e)}else s=e;try{s=$.extend(!0,a,e)}catch(e){console.error("Error while try to merge 2 JSONs into standard JSON if any attribute is missing. Please check your Config JSON. Standard Config will be used."),console.error(e),s=a,console.error(s)}return s},noDataMessage:{show:function(a,e){var s=$("<div></div>").css("margin","12px").css("text-align","center").css("padding","64px 0").addClass("nodatafoundmessage"),r=$("<div></div>"),n=$("<span></span>").addClass("fa").addClass("fa-search").addClass("fa-2x").css("height","32px").css("width","32px").css("color","#D0D0D0").css("margin-bottom","16px");r.append(n);var t=$("<span></span>").text(e).css("display","block").css("color","#707070").css("font-size","12px");s.append(r).append(t),$(a).append(s)},hide:function(a){$(a).children(".nodatafoundmessage").remove()}}};return{render:function(a,r,n,t,i,o){function d(){$(c).css("min-height","120px"),s.loader.start(c);var a=t;try{apex.server.plugin(r,{pageItems:a},{success:function(a){!function(a,r,n,t,i){$(a).empty(),r.row&&r.row.length>0?e(a,r.row,t,i):($(a).css("min-height",""),s.noDataMessage.show(a,n)),s.loader.stop(a)}(c,a,n,i,l)},error:function(a){console.error(a.responseText)},dataType:"json"})}catch(a){console.error("Error while try to get Data from APEX"),console.error(a)}}var c="#"+a+"-p",l={};l=s.jsonSaveExtend({cardWidth:4,refresh:0},o),d();try{apex.jQuery("#"+a).bind("apexrefresh",function(){d()})}catch(a){console.error("Error while try to bind APEX refresh event"),console.error(a)}l.refresh&&l.refresh>0&&setInterval(function(){d()},1e3*l.refresh)}}}();